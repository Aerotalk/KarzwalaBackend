window.jest_html_reporters_callback__({"numFailedTestSuites":7,"numFailedTests":8,"numPassedTestSuites":1,"numPassedTests":9,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":4,"numTodoTests":0,"numTotalTestSuites":8,"numTotalTests":17,"startTime":1762432048147,"success":false,"testResults":[{"numFailingTests":3,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1762432053356,"runtime":4764,"slow":false,"start":1762432048592},"testFilePath":"D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\integration\\user.basic.spec.js","failureMessage":"\u001b[1m\u001b[31m  \u001b[1m‚óè \u001b[22m\u001b[1müë§ User registration and profile (integration) ‚Ä∫ requests OTP and verifies (creates a placeholder user)\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m500\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 26 |\u001b[39m       \u001b[33m.\u001b[39msend({ phone\u001b[33m:\u001b[39m testPhone })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 27 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 28 |\u001b[39m     expect(res1\u001b[33m.\u001b[39mstatusCode)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                             \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 29 |\u001b[39m     expect(res1\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39mmessage)\u001b[33m.\u001b[39mtoMatch(\u001b[35m/OTP sent/i\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 30 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 31 |\u001b[39m     \u001b[36mconst\u001b[39m res2 \u001b[33m=\u001b[39m \u001b[36mawait\u001b[39m request(app)\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/integration/user.basic.spec.js\u001b[39m\u001b[0m\u001b[2m:28:29)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m‚óè \u001b[22m\u001b[1müë§ User registration and profile (integration) ‚Ä∫ registers the user (step after OTP) and returns profile summary\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m404\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 60 |\u001b[39m       \u001b[33m.\u001b[39msend(payload)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 61 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 62 |\u001b[39m     expect(res\u001b[33m.\u001b[39mstatusCode)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 63 |\u001b[39m     expect(res\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'message'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 64 |\u001b[39m     expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39muser)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 65 |\u001b[39m     expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39muser\u001b[33m.\u001b[39mphone)\u001b[33m.\u001b[39mtoBe(testPhone)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/integration/user.basic.spec.js\u001b[39m\u001b[0m\u001b[2m:62:28)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m‚óè \u001b[22m\u001b[1müë§ User registration and profile (integration) ‚Ä∫ fetches /api/user/me with the token and returns full user record\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\n    Expected: \u001b[32m200\u001b[39m\n    Received: \u001b[31m404\u001b[39m\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 72 |\u001b[39m       \u001b[33m.\u001b[39m\u001b[36mset\u001b[39m(\u001b[32m'Authorization'\u001b[39m\u001b[33m,\u001b[39m \u001b[32m`Bearer ${token}`\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 73 |\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 74 |\u001b[39m     expect(res\u001b[33m.\u001b[39mstatusCode)\u001b[33m.\u001b[39mtoBe(\u001b[35m200\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                            \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 75 |\u001b[39m     expect(res\u001b[33m.\u001b[39mbody)\u001b[33m.\u001b[39mtoHaveProperty(\u001b[32m'message'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 76 |\u001b[39m     expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39muser)\u001b[33m.\u001b[39mtoBeDefined()\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 77 |\u001b[39m     expect(res\u001b[33m.\u001b[39mbody\u001b[33m.\u001b[39muser\u001b[33m.\u001b[39mphone)\u001b[33m.\u001b[39mtoBe(testPhone)\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toBe (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/integration/user.basic.spec.js\u001b[39m\u001b[0m\u001b[2m:74:28)\u001b[22m\u001b[2m\u001b[22m\n","testResults":[{"ancestorTitles":["üë§ User registration and profile (integration)"],"duration":871,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m500\u001b[39m\n    at Object.toBe (D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\integration\\user.basic.spec.js:28:29)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"üë§ User registration and profile (integration) requests OTP and verifies (creates a placeholder user)","status":"failed","title":"requests OTP and verifies (creates a placeholder user)"},{"ancestorTitles":["üë§ User registration and profile (integration)"],"duration":9,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n    at Object.toBe (D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\integration\\user.basic.spec.js:62:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"üë§ User registration and profile (integration) registers the user (step after OTP) and returns profile summary","status":"failed","title":"registers the user (step after OTP) and returns profile summary"},{"ancestorTitles":["üë§ User registration and profile (integration)"],"duration":7,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoBe\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m) // Object.is equality\u001b[22m\n\nExpected: \u001b[32m200\u001b[39m\nReceived: \u001b[31m404\u001b[39m\n    at Object.toBe (D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\integration\\user.basic.spec.js:74:28)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)"],"fullName":"üë§ User registration and profile (integration) fetches /api/user/me with the token and returns full user record","status":"failed","title":"fetches /api/user/me with the token and returns full user record"}]},{"numFailingTests":4,"numPassingTests":2,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1762432053845,"runtime":466,"slow":false,"start":1762432053379},"testFilePath":"D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\unit\\kycService.spec.js","failureMessage":"\u001b[1m\u001b[31m  \u001b[1m‚óè \u001b[22m\u001b[1mKycService.saveFullKYC (unit) ‚Ä∫ validates employment payload presence\u001b[39m\u001b[22m\n\n    ReferenceError: baseValidPayload is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 88 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 89 |\u001b[39m   it(\u001b[32m'validates employment payload presence'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 90 |\u001b[39m     \u001b[36mconst\u001b[39m payload \u001b[33m=\u001b[39m { \u001b[33m...\u001b[39mbaseValidPayload }\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 91 |\u001b[39m     \u001b[36mdelete\u001b[39m payload\u001b[33m.\u001b[39mcompanyName\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 92 |\u001b[39m     \u001b[36mawait\u001b[39m expect(saveFullKYC(userId\u001b[33m,\u001b[39m payload))\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Employment data incomplete'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 93 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/unit/kycService.spec.js\u001b[39m\u001b[0m\u001b[2m:90:21)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m‚óè \u001b[22m\u001b[1mKycService.saveFullKYC (unit) ‚Ä∫ validates monthlyIncome numeric and non-negative\u001b[39m\u001b[22m\n\n    ReferenceError: baseValidPayload is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 94 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 95 |\u001b[39m   it(\u001b[32m'validates monthlyIncome numeric and non-negative'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 96 |\u001b[39m     \u001b[36mconst\u001b[39m payload \u001b[33m=\u001b[39m { \u001b[33m...\u001b[39mbaseValidPayload\u001b[33m,\u001b[39m monthlyIncome\u001b[33m:\u001b[39m \u001b[32m'not-a-number'\u001b[39m }\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 97 |\u001b[39m     \u001b[36mawait\u001b[39m expect(saveFullKYC(userId\u001b[33m,\u001b[39m payload))\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Invalid monthly income'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 98 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 99 |\u001b[39m     \u001b[36mconst\u001b[39m payload2 \u001b[33m=\u001b[39m { \u001b[33m...\u001b[39mbaseValidPayload\u001b[33m,\u001b[39m monthlyIncome\u001b[33m:\u001b[39m \u001b[32m'-100'\u001b[39m }\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/unit/kycService.spec.js\u001b[39m\u001b[0m\u001b[2m:96:21)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m‚óè \u001b[22m\u001b[1mKycService.saveFullKYC (unit) ‚Ä∫ validates address payload presence\u001b[39m\u001b[22m\n\n    ReferenceError: baseValidPayload is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 102 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 103 |\u001b[39m   it(\u001b[32m'validates address payload presence'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 104 |\u001b[39m     \u001b[36mconst\u001b[39m payload \u001b[33m=\u001b[39m { \u001b[33m...\u001b[39mbaseValidPayload }\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 105 |\u001b[39m     \u001b[36mdelete\u001b[39m payload\u001b[33m.\u001b[39mcurrentAddress\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 106 |\u001b[39m     \u001b[36mawait\u001b[39m expect(saveFullKYC(userId\u001b[33m,\u001b[39m payload))\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Address data incomplete'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 107 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/unit/kycService.spec.js\u001b[39m\u001b[0m\u001b[2m:104:21)\u001b[22m\u001b[2m\u001b[22m\n\n\u001b[1m\u001b[31m  \u001b[1m‚óè \u001b[22m\u001b[1mKycService.saveFullKYC (unit) ‚Ä∫ validates loan payload presence and amount\u001b[39m\u001b[22m\n\n    ReferenceError: baseValidPayload is not defined\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 108 |\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 109 |\u001b[39m   it(\u001b[32m'validates loan payload presence and amount'\u001b[39m\u001b[33m,\u001b[39m \u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 110 |\u001b[39m     \u001b[36mconst\u001b[39m payload \u001b[33m=\u001b[39m { \u001b[33m...\u001b[39mbaseValidPayload }\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m     |\u001b[39m                     \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 111 |\u001b[39m     \u001b[36mdelete\u001b[39m payload\u001b[33m.\u001b[39mloanAmount\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 112 |\u001b[39m     \u001b[36mawait\u001b[39m expect(saveFullKYC(userId\u001b[33m,\u001b[39m payload))\u001b[33m.\u001b[39mrejects\u001b[33m.\u001b[39mtoThrow(\u001b[32m'Loan data incomplete'\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 113 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.<anonymous> (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/unit/kycService.spec.js\u001b[39m\u001b[0m\u001b[2m:110:21)\u001b[22m\u001b[2m\u001b[22m\n","testResults":[{"ancestorTitles":["KycService.saveFullKYC (unit)"],"duration":12,"failureMessages":[],"fullName":"KycService.saveFullKYC (unit) throws when userId is not provided","status":"passed","title":"throws when userId is not provided"},{"ancestorTitles":["KycService.saveFullKYC (unit)"],"duration":1,"failureMessages":["ReferenceError: baseValidPayload is not defined\n    at Object.<anonymous> (D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\unit\\kycService.spec.js:90:21)\n    at Promise.then.completed (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"KycService.saveFullKYC (unit) validates employment payload presence","status":"failed","title":"validates employment payload presence"},{"ancestorTitles":["KycService.saveFullKYC (unit)"],"duration":0,"failureMessages":["ReferenceError: baseValidPayload is not defined\n    at Object.<anonymous> (D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\unit\\kycService.spec.js:96:21)\n    at Promise.then.completed (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"KycService.saveFullKYC (unit) validates monthlyIncome numeric and non-negative","status":"failed","title":"validates monthlyIncome numeric and non-negative"},{"ancestorTitles":["KycService.saveFullKYC (unit)"],"duration":0,"failureMessages":["ReferenceError: baseValidPayload is not defined\n    at Object.<anonymous> (D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\unit\\kycService.spec.js:104:21)\n    at Promise.then.completed (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"KycService.saveFullKYC (unit) validates address payload presence","status":"failed","title":"validates address payload presence"},{"ancestorTitles":["KycService.saveFullKYC (unit)"],"duration":0,"failureMessages":["ReferenceError: baseValidPayload is not defined\n    at Object.<anonymous> (D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\unit\\kycService.spec.js:110:21)\n    at Promise.then.completed (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\utils.js:231:10)\n    at _callCircusTest (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at _runTest (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:252:3)\n    at _runTestsForDescribeBlock (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:126:9)\n    at _runTestsForDescribeBlock (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:121:9)\n    at run (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\run.js:71:3)\n    at runAndTransformResultsToJestFormat (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapterInit.js:122:21)\n    at jestAdapter (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-circus\\build\\legacy-code-todo-rewrite\\jestAdapter.js:79:19)\n    at runTestInternal (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-runner\\build\\runTest.js:367:16)\n    at runTest (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-runner\\build\\runTest.js:444:34)\n    at Object.worker (D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-runner\\build\\testWorker.js:106:12)"],"fullName":"KycService.saveFullKYC (unit) validates loan payload presence and amount","status":"failed","title":"validates loan payload presence and amount"},{"ancestorTitles":["KycService.saveFullKYC (unit)"],"duration":21,"failureMessages":[],"fullName":"KycService.saveFullKYC (unit) saves employment, address and loan and returns aggregated result for multiple payloads","status":"passed","title":"saves employment, address and loan and returns aggregated result for multiple payloads"}]},{"numFailingTests":1,"numPassingTests":3,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1762432054044,"runtime":182,"slow":false,"start":1762432053862},"testFilePath":"D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\unit\\jwt.spec.js","failureMessage":"\u001b[1m\u001b[31m  \u001b[1m‚óè \u001b[22m\u001b[1müõ°Ô∏è JWT Utility ‚Ä∫ ‚ùå should fail verification for expired token\u001b[39m\u001b[22m\n\n    \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\n    Expected pattern: \u001b[32m/jwt expired/\u001b[39m\n\n    Received function did not throw\n\u001b[2m\u001b[22m\n\u001b[2m    \u001b[0m \u001b[90m 29 |\u001b[39m     \u001b[36mconst\u001b[39m shortToken \u001b[33m=\u001b[39m generateToken(payload\u001b[33m,\u001b[39m \u001b[32m'1ms'\u001b[39m)\u001b[33m;\u001b[39m \u001b[90m// pass second param if you modify generateToken to accept expiresIn\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 30 |\u001b[39m     \u001b[36mawait\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPromise\u001b[39m((resolve) \u001b[33m=>\u001b[39m setTimeout(resolve\u001b[33m,\u001b[39m \u001b[35m10\u001b[39m))\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m    \u001b[31m\u001b[1m>\u001b[22m\u001b[2m\u001b[39m\u001b[90m 31 |\u001b[39m     expect(() \u001b[33m=>\u001b[39m verifyToken(shortToken))\u001b[33m.\u001b[39mtoThrow(\u001b[35m/jwt expired/\u001b[39m)\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m    |\u001b[39m                                           \u001b[31m\u001b[1m^\u001b[22m\u001b[2m\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 32 |\u001b[39m   })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 33 |\u001b[39m })\u001b[33m;\u001b[39m\u001b[22m\n\u001b[2m     \u001b[90m 34 |\u001b[39m\u001b[0m\u001b[22m\n\u001b[2m\u001b[22m\n\u001b[2m      \u001b[2mat Object.toThrow (\u001b[22m\u001b[2m\u001b[0m\u001b[36m__tests__/unit/jwt.spec.js\u001b[39m\u001b[0m\u001b[2m:31:43)\u001b[22m\u001b[2m\u001b[22m\n","testResults":[{"ancestorTitles":["üõ°Ô∏è JWT Utility"],"duration":6,"failureMessages":[],"fullName":"üõ°Ô∏è JWT Utility ‚úÖ should generate a valid JWT token","status":"passed","title":"‚úÖ should generate a valid JWT token"},{"ancestorTitles":["üõ°Ô∏è JWT Utility"],"duration":3,"failureMessages":[],"fullName":"üõ°Ô∏è JWT Utility ‚úÖ should verify a valid JWT token","status":"passed","title":"‚úÖ should verify a valid JWT token"},{"ancestorTitles":["üõ°Ô∏è JWT Utility"],"duration":8,"failureMessages":[],"fullName":"üõ°Ô∏è JWT Utility ‚ùå should fail verification for invalid token","status":"passed","title":"‚ùå should fail verification for invalid token"},{"ancestorTitles":["üõ°Ô∏è JWT Utility"],"duration":29,"failureMessages":["Error: \u001b[2mexpect(\u001b[22m\u001b[31mreceived\u001b[39m\u001b[2m).\u001b[22mtoThrow\u001b[2m(\u001b[22m\u001b[32mexpected\u001b[39m\u001b[2m)\u001b[22m\n\nExpected pattern: \u001b[32m/jwt expired/\u001b[39m\n\nReceived function did not throw\n    at Object.toThrow (D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\unit\\jwt.spec.js:31:43)"],"fullName":"üõ°Ô∏è JWT Utility ‚ùå should fail verification for expired token","status":"failed","title":"‚ùå should fail verification for expired token"}]},{"numFailingTests":0,"numPassingTests":4,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":1762432054323,"runtime":270,"slow":false,"start":1762432054053},"testFilePath":"D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\unit\\hash.spec.js","failureMessage":null,"testResults":[{"ancestorTitles":["üîí Hash Utility"],"duration":83,"failureMessages":[],"fullName":"üîí Hash Utility ‚úÖ should hash a password successfully","status":"passed","title":"‚úÖ should hash a password successfully"},{"ancestorTitles":["üîí Hash Utility"],"duration":60,"failureMessages":[],"fullName":"üîí Hash Utility ‚úÖ should compare correct password successfully","status":"passed","title":"‚úÖ should compare correct password successfully"},{"ancestorTitles":["üîí Hash Utility"],"duration":59,"failureMessages":[],"fullName":"üîí Hash Utility ‚ùå should fail comparison with incorrect password","status":"passed","title":"‚ùå should fail comparison with incorrect password"},{"ancestorTitles":["üîí Hash Utility"],"duration":2,"failureMessages":[],"fullName":"üîí Hash Utility ‚ùå should throw error if password is missing","status":"passed","title":"‚ùå should throw error if password is missing"}]},{"numFailingTests":0,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":0,"runtime":0,"slow":false,"start":0},"testFilePath":"D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\integration\\auth.phone.spec.js","failureMessage":"  \u001b[1m‚óè \u001b[22mTest suite failed to run\n\n    Cannot find module '../../test-helpers/mockTwilio' from '__tests__/integration/auth.phone.spec.js'\n\n    \u001b[0m \u001b[90m  6 |\u001b[39m\n     \u001b[90m  7 |\u001b[39m \u001b[90m// Mock Twilio so real SMS are not sent\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  8 |\u001b[39m require(\u001b[32m'../../test-helpers/mockTwilio'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  9 |\u001b[39m\n     \u001b[90m 10 |\u001b[39m describe(\u001b[32m'üì± Phone OTP Authentication'\u001b[39m\u001b[33m,\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 11 |\u001b[39m   \u001b[36mconst\u001b[39m testPhone \u001b[33m=\u001b[39m \u001b[32m'+919876543210'\u001b[39m\u001b[33m;\u001b[39m \u001b[90m// test phone\u001b[39m\u001b[0m\n\n      \u001b[2mat Resolver._throwModNotFoundError (\u001b[22mnode_modules/jest-resolve/build/resolver.js\u001b[2m:427:11)\u001b[22m\n      \u001b[2mat Object.require (\u001b[22m\u001b[0m\u001b[36m__tests__/integration/auth.phone.spec.js\u001b[39m\u001b[0m\u001b[2m:8:1)\u001b[22m\n","testResults":[]},{"numFailingTests":0,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":0,"runtime":0,"slow":false,"start":0},"testFilePath":"D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\test-helpers\\mockTwilio.js","failureMessage":"  \u001b[1m‚óè \u001b[22mTest suite failed to run\n\n    Your test suite must contain at least one test.\n\n      \u001b[2mat onResult (\u001b[22mnode_modules/@jest/core/build/TestScheduler.js\u001b[2m:133:18)\u001b[22m\n      \u001b[2mat \u001b[22mnode_modules/@jest/core/build/TestScheduler.js\u001b[2m:254:19\u001b[22m\n      \u001b[2mat \u001b[22mnode_modules/emittery/index.js\u001b[2m:363:13\u001b[22m\n          at Array.map (<anonymous>)\n      \u001b[2mat Emittery.emit (\u001b[22mnode_modules/emittery/index.js\u001b[2m:361:23)\u001b[22m\n","testResults":[]},{"numFailingTests":0,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":0,"runtime":0,"slow":false,"start":0},"testFilePath":"D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\test-helpers\\teardown.js","failureMessage":"  \u001b[1m‚óè \u001b[22mTest suite failed to run\n\n    Cannot find module '../utils/logger' from '__tests__/test-helpers/teardown.js'\n\n    \u001b[0m \u001b[90m 1 |\u001b[39m \u001b[36mconst\u001b[39m { \u001b[33mPrismaClient\u001b[39m } \u001b[33m=\u001b[39m require(\u001b[32m'@prisma/client'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m 2 |\u001b[39m \u001b[36mconst\u001b[39m prisma \u001b[33m=\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mPrismaClient\u001b[39m()\u001b[33m;\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 3 |\u001b[39m \u001b[36mconst\u001b[39m logger \u001b[33m=\u001b[39m require(\u001b[32m'../utils/logger'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m   |\u001b[39m                \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 4 |\u001b[39m\n     \u001b[90m 5 |\u001b[39m afterAll(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 6 |\u001b[39m   \u001b[90m// Remove any test users created during tests\u001b[39m\u001b[0m\n\n      \u001b[2mat Resolver._throwModNotFoundError (\u001b[22mnode_modules/jest-resolve/build/resolver.js\u001b[2m:427:11)\u001b[22m\n      \u001b[2mat Object.require (\u001b[22m\u001b[0m\u001b[36m__tests__/test-helpers/teardown.js\u001b[39m\u001b[0m\u001b[2m:3:16)\u001b[22m\n","testResults":[]},{"numFailingTests":0,"numPassingTests":0,"numPendingTests":0,"numTodoTests":0,"perfStats":{"end":0,"runtime":0,"slow":false,"start":0},"testFilePath":"D:\\Project\\copy\\LoanInNeed\\Backend\\__tests__\\test-helpers\\setup.js","failureMessage":"  \u001b[1m‚óè \u001b[22mTest suite failed to run\n\n    Cannot find module '../utils/logger' from '__tests__/test-helpers/setup.js'\n\n    \u001b[0m \u001b[90m  5 |\u001b[39m\n     \u001b[90m  6 |\u001b[39m \u001b[90m// Optional: suppress logger output during tests\u001b[39m\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m  7 |\u001b[39m jest\u001b[33m.\u001b[39mmock(\u001b[32m'../utils/logger'\u001b[39m)\u001b[33m;\u001b[39m\n     \u001b[90m    |\u001b[39m      \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m  8 |\u001b[39m\n     \u001b[90m  9 |\u001b[39m beforeAll(\u001b[36masync\u001b[39m () \u001b[33m=>\u001b[39m {\n     \u001b[90m 10 |\u001b[39m   \u001b[90m// Connect to the database\u001b[39m\u001b[0m\n\n      \u001b[2mat Resolver._throwModNotFoundError (\u001b[22mnode_modules/jest-resolve/build/resolver.js\u001b[2m:427:11)\u001b[22m\n      \u001b[2mat Object.mock (\u001b[22m\u001b[0m\u001b[36m__tests__/test-helpers/setup.js\u001b[39m\u001b[0m\u001b[2m:7:6)\u001b[22m\n","testResults":[]}],"config":{"bail":0,"changedFilesWithAncestor":false,"ci":false,"collectCoverage":false,"collectCoverageFrom":[],"coverageDirectory":"D:\\Project\\copy\\LoanInNeed\\Backend\\coverage","coverageProvider":"babel","coverageReporters":["json","lcov","clover"],"detectLeaks":false,"detectOpenHandles":false,"errorOnDeprecated":false,"expand":false,"findRelatedTests":false,"forceExit":false,"json":true,"lastCommit":false,"listTests":false,"logHeapUsage":false,"maxConcurrency":5,"maxWorkers":1,"noStackTrace":false,"nonFlagArgs":[],"notify":false,"notifyMode":"failure-change","onlyChanged":false,"onlyFailures":false,"openHandlesTimeout":1000,"outputFile":"C:\\Users\\PRIYAN~1\\AppData\\Local\\Temp\\jest_runner_loaninneed_priyanshu_routh.json","passWithNoTests":true,"projects":[],"reporters":[["default",{}],["D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\jest-html-reporters\\index.js",{}],["default",{}],["C:\\Users\\PRIYANSHU ROUTH\\.vscode\\extensions\\orta.vscode-jest-6.4.4\\out\\reporter.js",{}]],"rootDir":"D:\\Project\\copy\\LoanInNeed\\Backend","runTestsByPath":false,"seed":-59230715,"skipFilter":false,"snapshotFormat":{"escapeString":false,"printBasicPrototype":false},"testFailureExitCode":1,"testPathPattern":"","testSequencer":"D:\\Project\\copy\\LoanInNeed\\Backend\\node_modules\\@jest\\test-sequencer\\build\\index.js","updateSnapshot":"new","useStderr":true,"watch":false,"watchAll":true,"watchman":true,"workerThreads":false},"endTime":1762432054805,"_reporterOptions":{"publicPath":"D:\\Project\\copy\\LoanInNeed\\Backend","filename":"jest_html_reporters.html","expand":false,"pageTitle":"","hideIcon":false,"testCommand":"","openReport":false,"failureMessageOnly":0,"enableMergeData":false,"dataMergeLevel":1,"inlineSource":false,"urlForTestFiles":"","darkTheme":false,"includeConsoleLog":false,"stripSkippedTest":false},"logInfoMapping":{},"attachInfos":{}})